---
layout: post
title: Wordpress Lecture (10) - Reduction of Duplicate Codes, Google Maps
categories: wordpress lecture
author: Simon Lee
permalink: /:categories/:title
---

<strong>[WORDPRESS DEVELOPER UDEMY COURSE][wp-udemy]</strong>  
<strong>[WORDPRESS OFFICIAL SUPPORT DOCUMENTATION][wp-support]</strong>  
<strong>[WORDPRESS OFFICIAL CODEX DOCUMENTATION][wp-codex]</strong>  
<strong>[WORDPRESS OFFICIAL DEVELOPER DOCUMENTATION][wp-dev]</strong>  
<strong>[WORDPRESS OFFICIAL DASHICONS][wp-dashicons]</strong>

## 26. Reduce the duplicate codes

`functions.php`
{% highlight php %}

    function pageBanner () {
        // php logic will live here.?>
        <div class="page-banner">
            <div class="page-banner__bg-image" style="background-image: url(<?php $pageBannerImage = get_field('page_banner_background_image'); echo $pageBannerImage['sizes']['pageBanner'] ?>);"></div>
                <div class="page-banner__content container container--narrow">
                <h1 class="page-banner__title"><?php the_title(); ?></h1>
                <div class="page-banner__intro">
                    <p><?php the_field('page_banner_subtitle'); ?></p>
                </div>
            </div>
        </div>
    <?php }

{% endhighlight %}

`single-professor.php`
{% highlight php %}

    <?php pageBanner(); ?>

{% endhighlight %}

To make a template code snippet, you should make a folder called `template-parts`.
So the path should be `~/themes/fictional-university-theme/template-parts/event-excerpt.php`.

`event-excerpt.php`
{% highlight html %}

    <div class="event-summary">
        <a class="event-summary__date t-center" href="#">
        <span class="event-summary__month"><?php
            $eventDate = new DateTime(get_field('event_date'));
            echo $eventDate -> format('M')
        ?></span>
        <span class="event-summary__day"><?php
            echo $eventDate -> format('d')
        ?></span>
        </a>
        <div class="event-summary__content">
        <h5 class="event-summary__title headline headline--tiny"><a href="<?php the_permalink(); ?>"><?php the_title(); ?></a></h5>
        <p><?php if (has_excerpt()) {
            echo get_the_excerpt();
        } else {
            echo wp_trim_words(get_the_content(), 12);
        } ?><a href="<?php the_permalink(); ?>" class="nu gray">Learn more</a></p>
        </div>
    </div>

{% endhighlight %}

`front-page.php`
{% highlight php %}

    while ($homepageEvents -> have_posts()) {
        $homepageEvents -> the_post();
        get_template_part('template-parts/event', 'excerpt'); // <- DO NOT ADD '.php'
        } ?>

{% endhighlight %}

What if the name of the file should be dynamic. As an example of the dynamic template:
{% highlight php %}

    while ($homepageEvents -> have_posts()) {
        $homepageEvents -> the_post();
        get_template_part('template-parts/content', get_post_type); // <- This can be event, program, or professor
        // Also the filename for the template above should be different for each post type.
        } ?>

{% endhighlight %}

<br>

## 27.

{% highlight php %}

{% endhighlight %}

<br>
<br>
<br>

[wp-udemy]: https://www.udemy.com/course/become-a-wordpress-developer-php-javascript/learn/lecture/6896262?start=0#overview
[wp-support]: https://wordpress.org/support/
[wp-codex]: https://codex.wordpress.org/
[wp-dev]: https://developer.wordpress.org/
[wp-dashicons]: https://developer.wordpress.org/resource/dashicons/#star-half
